(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{783:function(s,a,t){"use strict";t.r(a);var e=t(27),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"主题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主题"}},[s._v("#")]),s._v(" 主题")]),s._v(" "),t("p",[s._v("以本项目 "),t("a",{attrs:{href:"https://github.com/xiaoxuefengnian/wheatear",target:"_blank",rel:"noopener noreferrer"}},[s._v("wheatear"),t("OutboundLink")],1),s._v(" 为例")]),s._v(" "),t("p",[s._v("Vuepress 的默认主题是 @vuepress/theme-default")]),s._v(" "),t("h2",{attrs:{id:"继承默认主题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#继承默认主题"}},[s._v("#")]),s._v(" 继承默认主题")]),s._v(" "),t("p",[s._v("这里期望修改首页，且首页保留导航栏，其他页面保持不变")]),s._v(" "),t("p",[s._v("可以在 docs/README.md 中配置 layout 来实现")]),s._v(" "),t("p",[s._v("这里则采用继承默认主题，再修改首页的方式")]),s._v(" "),t("p",[s._v("打开项目根目录")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将默认主题复制到 .vuepress/theme 目录，以供自定义")]),s._v("\nvuepress "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("eject")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以直接复制到 docs/ 目录下")]),s._v("\nvuepress "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("eject")]),s._v(" docs\n")])])]),t("p",[s._v("查看 "),t("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/theme/writing-a-theme.html#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[s._v("约定的目录结构"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("在 docs/.vuepress/ 下添加 theme 目录，结构如下")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("theme\n├── components\n│   └── Home.vue\n├── index.js\n├── layouts\n│   └── Layout.vue\n└── util\n    └── index.js\n")])])]),t("p",[s._v("其中 Home.vue，Layout.vue，util/index.js 复制默认主题内容，并将其中引用组件的路径修改为引用父主题，例如")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Navbar "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@theme/components/Navbar.vue'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改为")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Navbar "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@parent-theme/components/Navbar.vue'")]),s._v("\n")])])]),t("p",[s._v("theme/index.js 内容如下")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  extend"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@vuepress/theme-default'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("按自己的需要编辑 Home.vue")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("组件的覆盖，最好直接基于父主题中对应组件的代码来修改；")]),s._v(" "),t("p",[s._v("目前，在本地开发子主题，每次创建或移除组件时，需要手动重启 Dev Server。")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("建议将下载下来的默认主题重命名（如 theme-default ）并使用 .gitignore 忽略，以供后续陆续覆盖相应组件")])]),s._v(" "),t("h2",{attrs:{id:"颜色-样式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#颜色-样式"}},[s._v("#")]),s._v(" 颜色 样式")]),s._v(" "),t("p",[s._v("想修改下主题色")]),s._v(" "),t("p",[s._v("通过搜索默认主题的16进制颜色码 #3eaf7c 在 /wheatear/node_modules/@vuepress/core/lib/client/style/config.styl 中找到如下配置")]),s._v(" "),t("div",{staticClass:"language-stylus extra-class"},[t("pre",{pre:!0,attrs:{class:"language-stylus"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$accentColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#3eaf7c")])]),s._v("\n")])])]),t("p",[s._v("搜索 client/style/config.styl，在 /wheatear/node_modules/@vuepress/core/lib/node/internal-plugins/palette/index.js 中找到对该文件的引用")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" configFile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLibFilePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'client/style/config.styl'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 往下看代码发现")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" userPalette "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sourceDir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.vuepress/styles/palette.styl'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("继续往下分析代码发现，确实是这里的 userPalette 引入了用户配置来覆盖默认配置，因此我们可以通过配置 docs/.vuepress/styles/palette.styl 文件来修改主题色，忽然想起官网的 "),t("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/guide/directory-structure.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("目录结构"),t("OutboundLink")],1),s._v(" 有提及。")]),s._v(" "),t("p",[s._v("对照 /wheatear/node_modules/@vuepress/core/lib/client/style/config.styl 的代码")]),s._v(" "),t("div",{staticClass:"language-stylus extra-class"},[t("pre",{pre:!0,attrs:{class:"language-stylus"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// colors")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$accentColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#3eaf7c")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$textColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#2c3e50")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$borderColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#eaecef")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$codeBgColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#282c34")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$arrowBgColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#ccc")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// layout")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$navbarHeight")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("rem")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sidebarWidth")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("rem")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$contentWidth")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("740")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// responsive breakpoints")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MQNarrow")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("959")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MQMobile")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("719")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MQMobileNarrow")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("419")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("px")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// code")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$lineNumbersWrapperWidth")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token unit"}},[s._v("rem")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$codeLang")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" js ts html md vue css sass scss less stylus go java c sh yaml py docker dockerfile makefile")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token atrule-declaration"}},[t("span",{pre:!0,attrs:{class:"token atrule"}},[s._v("@import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'~@temp/palette.styl'")])]),s._v("\n\n")])])]),t("p",[s._v("来重新赋值颜色变量即可")]),s._v(" "),t("p",[s._v("比如我修改主题色和 gitalk 的主色调一致")]),s._v(" "),t("div",{staticClass:"language-stylus extra-class"},[t("pre",{pre:!0,attrs:{class:"language-stylus"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$accentColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#6190e8")])]),s._v("\n")])])]),t("h2",{attrs:{id:"自定义背景色"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义背景色"}},[s._v("#")]),s._v(" 自定义背景色")]),s._v(" "),t("h3",{attrs:{id:"_2020-01-05"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2020-01-05"}},[s._v("#")]),s._v(" 2020.01.05")]),s._v(" "),t("p",[s._v("在 docs/.vuepress/styles/palette.styl 中增加")]),s._v(" "),t("div",{staticClass:"language-stylus extra-class"},[t("pre",{pre:!0,attrs:{class:"language-stylus"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$borderColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#d3d3d3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义颜色")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$huyandanhuang")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#f5f5d5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 245, 245, 213")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$huyandanlv")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token hexcode"}},[s._v("#c7edcc")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 199, 237, 204")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable-declaration"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$bgColor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" $huyandanhuang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n")])])]),t("p",[s._v("新增文件 docs/.vuepress/styles/index.styl")]),s._v(" "),t("div",{staticClass:"language-stylus extra-class"},[t("pre",{pre:!0,attrs:{class:"language-stylus"}},[t("code",[t("span",{pre:!0,attrs:{class:"token atrule-declaration"}},[t("span",{pre:!0,attrs:{class:"token atrule"}},[s._v("@require")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./palette.styl'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("html"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" body "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property-declaration"}},[t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $bgColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".navbar "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property-declaration"}},[t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $bgColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".links "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property-declaration"}},[t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $bgColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".sidebar "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")])]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property-declaration"}},[t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $bgColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])])]),t("p",[s._v("复制默认主题导航组件到 docs/.vuepress/theme/components/Navbar.vue")]),s._v(" "),t("div",{staticClass:"language-stylus extra-class"},[t("pre",{pre:!0,attrs:{class:"language-stylus"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 删除以下样式")]),s._v("\n.navbar")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v(".links")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property-declaration"}},[t("span",{pre:!0,attrs:{class:"token property"}},[s._v("background-color")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token color"}},[s._v("white")])]),s._v("\n")])])]),t("p",[s._v("将对 Navbar.vue 的引用由 @parent-theme 改为 @theme")]),s._v(" "),t("p",[s._v("重启环境后生效")])])}),[],!1,null,null,null);a.default=r.exports}}]);