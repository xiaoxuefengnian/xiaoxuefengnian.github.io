(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{740:function(s,a,t){"use strict";t.r(a);var e=t(27),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mac-自带-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac-自带-svn"}},[s._v("#")]),s._v(" mac 自带 svn")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("在 xcode 某次更新后（比如 12.0.1 版本），自带 svn 已无法使用。"),t("br"),s._v("\nThe subversion command line tools are no longer provided by Xcode。"),t("br"),s._v("\n需自行安装。"),t("br"),s._v("\nbrew install subversion")])]),s._v(" "),t("h2",{attrs:{id:"_1-1-mac-自带-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-mac-自带-svn"}},[s._v("#")]),s._v(" 1.1 mac 自带 svn")]),s._v(" "),t("p",[s._v("在 Windows 环境中，我们一般使用 TortoiseSVN 来搭建 svn 环境。在 Mac 环境下，由于 Mac 自带了 svn 的服务器端和客户端功能，所以我们可以在不装任何第三方软件的前提下使用 svn 功能，不过还需做一下简单的配置。")]),s._v(" "),t("h2",{attrs:{id:"_1-2-创建-svn-仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-创建-svn-仓库"}},[s._v("#")]),s._v(" 1.2 创建 svn 仓库")]),s._v(" "),t("p",[s._v("示例：")]),s._v(" "),t("p",[s._v("在/User/apple 目录下新建一个 svn 目录（以后可以在 svn 目录下创建多个仓库目录）")]),s._v(" "),t("p",[s._v("打开终端，创建一个 mycode 仓库，输入指令：svnadmin create /Users/apple/svn/mycode")]),s._v(" "),t("p",[s._v("指令执行成功后，会发现硬盘上多了个/Users/apple/svn/mycode 目录")]),s._v(" "),t("h3",{attrs:{id:"_1-2-1-配置用户权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-配置用户权限"}},[s._v("#")]),s._v(" 1.2.1 配置用户权限")]),s._v(" "),t("p",[s._v("主要是修改/svn/mycode/conf 目录下的三个文件")]),s._v(" "),t("p",[s._v("1.打开 svnserve.conf，将下列配置项前面的#和空格都去掉")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("# anon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("access "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" read\n# auth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("access "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" write\n# password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" passwd\n# authz"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("db "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" authz\n")])])]),t("p",[s._v("anon-access = read 代表匿名访问的时候是只读的，若改为 anon-access = none 代表禁止匿名访问，需要帐号密码才能访问")]),s._v(" "),t("p",[s._v("2.打开 passwd，在[users]下面添加帐号和密码，比如：")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nmj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\njj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("456")]),s._v("\n")])])]),t("p",[s._v("帐号是 mj，密码是 123")]),s._v(" "),t("p",[s._v("3.打开 authz，配置用户组和权限")]),s._v(" "),t("p",[s._v("我们可以将在 passwd 里添加的用户分配到不同的用户组里，以后的话，就可以对不同用户组设置不同的权限，没有必要对每个用户进行单独设置权限。")]),s._v(" "),t("p",[s._v("在[groups]下面添加组名和用户名，多个用户之间用逗号(,)隔开")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("groups"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ntopgroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("jj\n")])])]),t("p",[s._v("说明 mj 和 jj 都是属于 topgroup 这个组的，接下来再进行权限配置。")]),s._v(" "),t("p",[s._v("使用[/]代表 svn 服务器中的所有资源库")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@topgroup")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rw\n")])])]),t("p",[s._v("上面的配置说明 topgroup 这个组中的所有用户对所有资源库都有读写(rw)权限，组名前面要用@")]),s._v(" "),t("p",[s._v("如果是用户名，不用加@，比如 mj 这个用户有读写权限")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nmj "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" rw\n")])])]),t("p",[s._v("至于其他精细的权限控制，可以参考 authz 文件中的其他内容")]),s._v(" "),t("h3",{attrs:{id:"_1-2-2-启动-svn-服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-启动-svn-服务器"}},[s._v("#")]),s._v(" 1.2.2 启动 svn 服务器")]),s._v(" "),t("p",[s._v("前面配置了这么多，最关键还是看能否正常启动服务器，若启动不来，前面做再多工作也是徒劳。")]),s._v(" "),t("p",[s._v("在终端输入下列指令：svnserve -d -r /Users/apple/svn")]),s._v(" "),t("p",[s._v("或者输入：svnserve -d -r /Users/apple/svn/mycode")]),s._v(" "),t("p",[s._v("没有任何提示就说明启动成功了")]),s._v(" "),t("h3",{attrs:{id:"_1-2-3-关闭-svn-服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-关闭-svn-服务器"}},[s._v("#")]),s._v(" 1.2.3 关闭 svn 服务器")]),s._v(" "),t("p",[s._v("如果你想要关闭 svn 服务器，最有效的办法是打开实用工具里面的“活动监视器”，退出 svnserve 进程")]),s._v(" "),t("h2",{attrs:{id:"_1-3-使用-svn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-使用-svn"}},[s._v("#")]),s._v(" 1.3 使用 svn")]),s._v(" "),t("h3",{attrs:{id:"_1-3-1-从本地导入代码到服务器-第一次初始化导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-从本地导入代码到服务器-第一次初始化导入"}},[s._v("#")]),s._v(" 1.3.1 从本地导入代码到服务器(第一次初始化导入)")]),s._v(" "),t("p",[s._v("在终端中输入")]),s._v(" "),t("p",[s._v('svn import /Users/apple/Documents/eclipse_workspace/weibo svn://localhost/mycode/weibo --username=mj --password=123 -m "初始化导入"')]),s._v(" "),t("p",[s._v('指令含义：将/Users/apple/Documents/eclipse_workspace/weibo 中的所有内容，上传到服务器 mycode 仓库的 weibo 目录下，后面双引号中的"初始化导入"是注释')]),s._v(" "),t("h3",{attrs:{id:"_1-3-2-从服务器端下载代码到客户端本地"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-从服务器端下载代码到客户端本地"}},[s._v("#")]),s._v(" 1.3.2 从服务器端下载代码到客户端本地")]),s._v(" "),t("p",[s._v("在终端中输入 svn checkout svn://localhost/mycode --username=mj --password=123 /Users/apple/Documents/code")]),s._v(" "),t("p",[s._v("指令含义：将服务器中 mycode 仓库的内容下载到/Users/apple/Documents/code 目录中")]),s._v(" "),t("h3",{attrs:{id:"_1-3-3-提交更改过的代码到服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-提交更改过的代码到服务器"}},[s._v("#")]),s._v(" 1.3.3 提交更改过的代码到服务器")]),s._v(" "),t("p",[s._v("在步骤 1.3.2 中已经将服务器端的代码都下载到/Users/apple/Documents/code 目录中，现在修改下里面的一些代码，然后提交这些修改到服务器")]),s._v(" "),t("p",[s._v("1> 打开终端，先定位到/Users/apple/Documents/code 目录，输入：cd/Users/apple/Documents/code")]),s._v(" "),t("p",[s._v('2> 输入提交指令：svn commit -m "修改了 main.m 文件"')]),s._v(" "),t("p",[s._v("这个指令会将/Users/apple/Documents/code 下的所有修改都同步到服务器端，假如这次我只修改了 main.文件")]),s._v(" "),t("p",[s._v("可以看到终端的打印信息")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sending")]),s._v(" weibo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("weibo"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("m\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transmitting")]),s._v(" file "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("\nCommitted")]),s._v(" revision "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("\n")])])]),t("h3",{attrs:{id:"_1-3-4-更新服务器端的代码到客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-更新服务器端的代码到客户端"}},[s._v("#")]),s._v(" 1.3.4 更新服务器端的代码到客户端")]),s._v(" "),t("p",[s._v("在终端中定位到客户端代码目录后，比如上面的/Users/apple/Documents/code 目录，然后再输入指令：svn update")]),s._v(" "),t("h3",{attrs:{id:"_1-3-5-svn-的其他用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-5-svn-的其他用法"}},[s._v("#")]),s._v(" 1.3.5 svn 的其他用法")]),s._v(" "),t("p",[s._v("在终端输入：svn help")]),s._v(" "),t("p",[s._v("指令后面括号中的内容的一般代表着指令的简称，比如我们可以用 svn ci 代替 svn commit，用 svn co 代替 svn checkout")])])}),[],!1,null,null,null);a.default=r.exports}}]);